<!-- Barra de búsqueda -->
<div class="toolbar">
  <a routerLink="/nuevo">Agregar nuevo registro</a>
</div>
<div class="toolbar">
  <input
    type="text"
    [value]="filtro"
    (input)="filtro = $any($event.target)?.value || ''"
    placeholder="Buscar por operador o descripción"
  />
  <button type="button" (click)="cargarRegistros()">Mostrar</button>
</div>

<!-- Tabla de registros -->

<table *ngIf="!cargando && registros.length; else sinRegistros">
  <thead>
    <tr>
      <th>ID</th>
      <th>Tipo</th>
      <th>Descripción</th>
      <th>Operador</th>
      <th>Fecha</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let r of registros">
      <td>{{ r.id }}</td>
      <td>{{ r.tipo }}</td>
      <td>{{ r.descripcion }}</td>
      <td>{{ r.operador }}</td>
      <td>{{ formatearFecha(r.fecha_registro) }}</td>

      <td>
        <button type="button" (click)="verDetalle(r.id)">Ver</button>
        <button type="button" (click)="eliminar(r.id)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Estado: sin registros o cargando -->
<ng-template #sinRegistros>
  <p *ngIf="!cargando">No hay registros disponibles.</p>
  <p *ngIf="cargando">Cargando registros...</p>
</ng-template>
