<div class="p-6 bg-gray-100 min-h-screen">
  <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-8">
    
    <h2 class="text-3xl font-bold mb-6 text-blue-700">
      {{ modoEdicion ? 'âœï¸ Editar Medidor' : 'â• Crear Nuevo Medidor' }}
    </h2>

    <!-- Formulario -->
    <form (ngSubmit)="guardar()">
      
      <!-- CÃ³digo del Medidor -->
      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">CÃ³digo del Medidor *</label>
        <input 
          [(ngModel)]="medidor.codigo_medidor" 
          name="codigo_medidor" 
          type="text"
          placeholder="Ej: MED-001"
          class="border border-gray-300 p-3 rounded w-full focus:outline-none focus:border-blue-500"
          required
        />
      </div>

      <!-- Cliente -->
      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">Cliente *</label>
        <select 
          [(ngModel)]="medidor.cliente_id" 
          name="cliente_id"
          class="border border-gray-300 p-3 rounded w-full focus:outline-none focus:border-blue-500"
          required
        >
          <option [value]="null">-- Selecciona un cliente --</option>
          <option *ngFor="let cliente of clientes" [value]="cliente.id_cliente">
            {{ cliente.nombre_razon }} ({{ cliente.rut }})
          </option>
        </select>
      </div>

      <!-- DirecciÃ³n de Suministro -->
      <div class="mb-4">
        <label class="block text-sm font-semibold mb-2">DirecciÃ³n de Suministro *</label>
        <input 
          [(ngModel)]="medidor.direccion_suministro" 
          name="direccion_suministro" 
          type="text"
          placeholder="Ej: Calle Principal 123"
          class="border border-gray-300 p-3 rounded w-full focus:outline-none focus:border-blue-500"
          required
        />
      </div>

      <!-- Estado -->
      <div class="mb-6">
        <label class="flex items-center text-sm font-semibold">
          <input 
            [(ngModel)]="medidor.estado" 
            name="estado" 
            type="checkbox"
            class="w-4 h-4 mr-2 cursor-pointer"
          />
          <span>{{ medidor.estado ? 'âœ“ Activo' : 'âœ— Inactivo' }}</span>
        </label>
      </div>

      <!-- Botones -->
      <div class="flex gap-4">
        <button 
          type="submit"
          [disabled]="cargando"
          class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded transition disabled:bg-gray-400"
        >
          {{ cargando ? 'â³ Guardando...' : (modoEdicion ? 'ğŸ’¾ Actualizar' : 'â• Crear') }}
        </button>

        <button 
          type="button"
          (click)="limpiar()"
          class="bg-gray-400 hover:bg-gray-500 text-white font-semibold py-3 px-8 rounded transition"
          [disabled]="cargando"
        >
          ğŸ”„ Limpiar
        </button>

        <button 
          type="button"
          (click)="cancelar()"
          class="bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-8 rounded transition"
          [disabled]="cargando"
        >
          âŒ Cancelar
        </button>
      </div>

    </form>

    <!-- InformaciÃ³n Ãºtil -->
    <div class="mt-8 p-4 bg-blue-50 rounded border-l-4 border-blue-500">
      <p class="text-sm text-gray-700">
        <strong>Nota:</strong> Los campos marcados con (*) son requeridos.
      </p>
    </div>

  </div>
</div>
